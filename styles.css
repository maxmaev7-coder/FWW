/* ====== БАЗА ====== */
*,
*::before,
*::after { box-sizing: border-box; }

:root{
  --page-pad: 16px;
  --gap: 16px;
  --card-w: 240px;          /* ширина карточки на экране (как на скрине №2) */
  --radius: 4px;
  --shadow: 0 2px 4px rgba(0,0,0,.15);
  --bg: #f5f5f5;
  --line: #d0d0d0;

  /* Печать */
  --print-gap: 6mm;
  --print-card-w: 90mm;     /* 2 колонки на A4 portrait с полями 10мм */
}

html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: #fafafa;
  color: #111;
}

/* ====== TOOLBAR ====== */
.toolbar{
  position: sticky; top: 0;
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px var(--page-pad);
  background: #fff; border-bottom: 1px solid var(--line);
}

.btn{
  display: inline-block;
  padding: 8px 12px;
  border: 1px solid var(--line);
  background: #fff;
  border-radius: 6px;
  cursor: pointer;
}
.btn-primary{ border-color:#2b7; background:#2b7; color:#fff; }
.btn-danger { border-color:#c44; background:#c44; color:#fff; }

/* ====== СЕТКА КАРТОЧЕК (как на скрине №2) ====== */
.cards{
  padding: var(--page-pad);
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--card-w), 1fr));
  gap: var(--gap);
  align-items: start;
}

/* ====== КАРТОЧКА ====== */
.card{
  background: var(--bg);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-width: 0;  /* чтобы контент не «раздвигал» карточку */
}

/* Медиа-зона: изображение + рамка */
.card-media{
  position: relative;
  overflow: hidden;
  background: #e9e9e9;
}

.card-media img{
  display:block;
  width:100%;
  height:auto;           /* ► ключ: масштаб по изображению без искажений */
}

/* === ВАРИАНТ 1: overlay-рамка (PNG/SVG поверх изображения) === */
.frame-overlay .frame{
  position:absolute; inset:0;
  background: url("assets/frame.png") center / 100% 100% no-repeat; /* замените путь */
  pointer-events:none; /* клики проходят сквозь рамку */
}

/* === ВАРИАНТ 2: рамка через border-image (без overlay) === */
/* Добавьте класс "border-frame" на .card-media, если хотите этот вариант */
.border-frame{
  border: 40px solid transparent;                 /* толщина рамки */
  border-image-source: url("assets/frame-slice.png");
  border-image-slice: 40 fill;                    /* 9‑slice, чтобы углы не растягивались */
  border-image-width: 40px;
  border-image-repeat: stretch;                   /* или round */
}

/* Контент карточки */
.card-body{
  padding: 10px 12px;
}
.card-title{
  margin: 0 0 6px 0;
  font-size: 16px;
}
.card-text{
  margin: 0;
  font-size: 14px;
}

/* Кнопки карточки снизу и во всю ширину */
.card-actions{
  margin-top: auto;         /* прижимает футер к низу */
  padding: 10px 12px 12px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.card-actions .btn{ width: 100%; }

/* ====== ПЕЧАТЬ (PDF) ====== */
@media print {

  @page{
    size: A4 portrait;      /* можно сменить на landscape при желании */
    margin: 10mm;           /* реальные поля принтера/ПДФ */
  }

  html, body{
    background: #fff !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;          /* не «выцветать» */
  }

  .no-print{ display: none !important; }

  /* Сетка под печать: стабильные колонки и зазоры в мм */
  .cards{
    padding: 0;
    display: grid !important;
    grid-template-columns: repeat(2, var(--print-card-w)); /* 2 карточки в ряд */
    gap: var(--print-gap);
    justify-content: start;
    align-content: start;
  }

  .card{
    box-shadow: none;
    border: 1px solid #000;             /* более контрастная граница на печати */
    break-inside: avoid;                /* не рвать карточку */
    page-break-inside: avoid;
    -webkit-column-break-inside: avoid;
    -moz-page-break-inside: avoid;
  }

  /* Изображения печатать как есть, без фильтров/скруглений (если было важно) */
  .card-media img{
    filter: none !important;
    transform: none !important;
  }
}
